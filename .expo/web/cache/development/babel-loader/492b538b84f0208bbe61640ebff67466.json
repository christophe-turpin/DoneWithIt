{"ast":null,"code":"import axios from 'axios';\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport CacheStore from 'react-native-cache-store';\nvar API_URL = 'http://localhost:3001/api/auth/';\n\nvar register = function register(pseudo, email, password) {\n  return axios.post(API_URL + \"signup\", {\n    pseudo: pseudo,\n    email: email,\n    password: password\n  });\n};\n\nvar login = function login(email, password) {\n  return axios.post(API_URL + \"signup\", {\n    email: email,\n    password: password\n  }).then(function (response) {\n    if (response.data.accessToken) {\n      CacheStore.set('user', JSON.stringify(response.data));\n    }\n\n    return response.data;\n  });\n};\n\nvar logout = function logout(props) {\n  CacheStore.remove('user');\n};\n\nvar getCurrentUser = function getCurrentUser() {\n  return CacheStore.get('user');\n};\n\nexport default {\n  register: register,\n  login: login,\n  logout: logout,\n  getCurrentUser: getCurrentUser\n};","map":{"version":3,"sources":["/home/christophe/workspace/ReactNative/DoneWithIt/services/auth.service.js"],"names":["axios","AsyncStorage","CacheStore","API_URL","register","pseudo","email","password","post","login","then","response","data","accessToken","set","JSON","stringify","logout","props","remove","getCurrentUser","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;SACSC,Y;AACT,OAAOC,UAAP,MAAuB,0BAAvB;AAEA,IAAMC,OAAO,GAAG,iCAAhB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,MAAD,EAASC,KAAT,EAAgBC,QAAhB,EAA6B;AAC1C,SAAOP,KAAK,CAACQ,IAAN,CAAcL,OAAd,aAA+B;AAClCE,IAAAA,MAAM,EAANA,MADkC;AAElCC,IAAAA,KAAK,EAALA,KAFkC;AAGlCC,IAAAA,QAAQ,EAARA;AAHkC,GAA/B,CAAP;AAKH,CAND;;AAQA,IAAME,KAAK,GAAG,SAARA,KAAQ,CAACH,KAAD,EAAQC,QAAR,EAAqB;AAC/B,SAAOP,KAAK,CAACQ,IAAN,CAAcL,OAAd,aAA+B;AAClCG,IAAAA,KAAK,EAALA,KADkC;AAElCC,IAAAA,QAAQ,EAARA;AAFkC,GAA/B,EAING,IAJM,CAID,UAACC,QAAD,EAAc;AAChB,QAAIA,QAAQ,CAACC,IAAT,CAAcC,WAAlB,EAA+B;AAC3BX,MAAAA,UAAU,CAACY,GAAX,CAAe,MAAf,EAAuBC,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACC,IAAxB,CAAvB;AACH;;AACD,WAAOD,QAAQ,CAACC,IAAhB;AACH,GATM,CAAP;AAUH,CAXD;;AAaA,IAAMK,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD,EAAW;AACtBhB,EAAAA,UAAU,CAACiB,MAAX,CAAkB,MAAlB;AACH,CAFD;;AAIA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AACzB,SAAOlB,UAAU,CAACmB,GAAX,CAAe,MAAf,CAAP;AACH,CAFD;;AAIA,eAAe;AACdjB,EAAAA,QAAQ,EAARA,QADc;AAEdK,EAAAA,KAAK,EAALA,KAFc;AAGdQ,EAAAA,MAAM,EAANA,MAHc;AAIdG,EAAAA,cAAc,EAAdA;AAJc,CAAf","sourcesContent":["import axios from 'axios';\nimport { AsyncStorage } from 'react-native';\nimport CacheStore from 'react-native-cache-store';\n\nconst API_URL = 'http://localhost:3001/api/auth/'\n\nconst register = (pseudo, email, password) => {\n    return axios.post(`${API_URL}signup`, {\n        pseudo,\n        email,\n        password\n    })\n};\n\nconst login = (email, password) => {\n    return axios.post(`${API_URL}signup`, {\n        email,\n        password\n    })\n    .then((response) => {\n        if (response.data.accessToken) {\n            CacheStore.set('user', JSON.stringify(response.data))\n        }\n        return response.data\n    })\n};\n\nconst logout = (props) => {\n    CacheStore.remove('user')\n};\n\nconst getCurrentUser = () => {\n    return CacheStore.get('user')\n};\n\nexport default {\n\tregister,\n\tlogin,\n\tlogout,\n\tgetCurrentUser\n};"]},"metadata":{},"sourceType":"module"}